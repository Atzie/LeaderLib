Version 1
SubGoalCombiner SGC_AND
INITSECTION
//DB_LeaderLog_Temp_CombinedString(_CombinedStr)
//DB_LeaderLog_Temp_NextLogTarget(_Player)
KBSECTION
//REGION DISABLED_CHECK
QRY
LeaderLog_QRY_Internal_DisableFlagActive((STRING)_Flag)
AND
GlobalGetFlag(_Flag, 1)
THEN
DB_NOOP(1);

QRY
LeaderLog_QRY_LogTypeEnabled("COMBAT")
AND
NOT LeaderLog_QRY_Internal_DisableFlagActive("LEADERLOG_COMBATLOG_DISABLED")
THEN
DB_NOOP(1);

QRY
LeaderLog_QRY_LogTypeEnabled("STATUS")
AND
NOT LeaderLog_QRY_Internal_DisableFlagActive("LEADERLOG_PRINT_DISABLED")
THEN
DB_NOOP(1);

QRY
LeaderLog_QRY_LogTypeEnabled("PRINT")
AND
NOT LeaderLog_QRY_Internal_DisableFlagActive("LEADERLOG_PRINT_DISABLED")
THEN
DB_NOOP(1);

QRY
LeaderLog_QRY_LogTypeEnabled("DEBUG")
AND
GlobalGetFlag("LEADERLOG_DEBUG_ENABLED", 1)
THEN
DB_NOOP(1);

QRY
LeaderLog_QRY_LogTypeEnabled("EDITOR")
AND
GlobalGetFlag("LEADERLOG_DEBUG_ENABLED", 1)
THEN
DB_NOOP(1);

QRY
LeaderLog_QRY_LogTypeEnabled("COMBINE")
THEN
DB_NOOP(1);
//END_REGION

//REGION PLAYER_LOG_TARGETING
QRY
LeaderLog_QRY_SetTarget((CHARACTERGUID)_Player)
THEN
LeaderLog_SetTarget(_Player);

PROC
LeaderLog_SetTarget((CHARACTERGUID)_Player)
AND
NOT DB_LeaderLog_Temp_NextLogTarget(_Player)
THEN
DB_LeaderLog_Temp_NextLogTarget(_Player);

PROC
LeaderLog_ClearTarget((CHARACTERGUID)_Player)
AND
DB_LeaderLog_Temp_NextLogTarget(_Player)
THEN
NOT DB_LeaderLog_Temp_NextLogTarget(_Player);

PROC
LeaderLog_ClearAllTargets()
AND
DB_LeaderLog_Temp_NextLogTarget(_Player)
THEN
NOT DB_LeaderLog_Temp_NextLogTarget(_Player);

PROC
LeaderLog_QRY_ClearTarget((CHARACTERGUID)_Player)
THEN
LeaderLog_ClearTarget(_Player);

PROC
LeaderLog_QRY_ClearAllTargets()
THEN
LeaderLog_ClearAllTargets();
//END_REGION

//REGION LOGGING
PROC
LeaderLog_Log((STRING)_Type, (STRING)_Str1)
AND
LeaderLog_QRY_LogTypeEnabled(_Type)
THEN
LeaderLog_Internal_RunString(_Type, _Str1);

PROC
LeaderLog_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2)
AND
LeaderLog_QRY_LogTypeEnabled(_Type)
AND
StringConcatenate(_Str1, _Str2, _Msg1)
THEN
LeaderLog_Internal_RunString(_Type, _Msg1);

PROC
LeaderLog_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2, (STRING)_Str3)
AND
LeaderLog_QRY_LogTypeEnabled(_Type)
AND
StringConcatenate(_Str1, _Str2, _Msg1)
AND
StringConcatenate(_Msg1, _Str3, _Msg2)
THEN
LeaderLog_Internal_RunString(_Type, _Msg2);

PROC
LeaderLog_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2, (STRING)_Str3, (STRING)_Str4)
AND
LeaderLog_QRY_LogTypeEnabled(_Type)
AND
StringConcatenate(_Str1, _Str2, _Msg1)
AND
StringConcatenate(_Msg1, _Str3, _Msg2)
AND
StringConcatenate(_Msg2, _Str4, _Msg3)
THEN
LeaderLog_Internal_RunString(_Type, _Msg3);

PROC
LeaderLog_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2, (STRING)_Str3, (STRING)_Str4, (STRING)_Str5)
AND
LeaderLog_QRY_LogTypeEnabled(_Type)
AND
StringConcatenate(_Str1, _Str2, _Msg1)
AND
StringConcatenate(_Msg1, _Str3, _Msg2)
AND
StringConcatenate(_Msg2, _Str4, _Msg3)
AND
StringConcatenate(_Msg3, _Str5, _Msg4)
THEN
LeaderLog_Internal_RunString(_Type, _Msg4);

PROC
LeaderLog_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2, (STRING)_Str3, (STRING)_Str4, (STRING)_Str5, (STRING)_Str6)
AND
LeaderLog_QRY_LogTypeEnabled(_Type)
AND
StringConcatenate(_Str1, _Str2, _Msg1)
AND
StringConcatenate(_Msg1, _Str3, _Msg2)
AND
StringConcatenate(_Msg2, _Str4, _Msg3)
AND
StringConcatenate(_Msg3, _Str5, _Msg4)
AND
StringConcatenate(_Msg4, _Str6, _Msg5)
THEN
LeaderLog_Internal_RunString(_Type, _Msg5);

PROC
LeaderLog_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2, (STRING)_Str3, (STRING)_Str4, (STRING)_Str5, (STRING)_Str6, (STRING)_Str7)
AND
LeaderLog_QRY_LogTypeEnabled(_Type)
AND
StringConcatenate(_Str1, _Str2, _Msg1)
AND
StringConcatenate(_Msg1, _Str3, _Msg2)
AND
StringConcatenate(_Msg2, _Str4, _Msg3)
AND
StringConcatenate(_Msg3, _Str5, _Msg4)
AND
StringConcatenate(_Msg4, _Str6, _Msg5)
AND
StringConcatenate(_Msg5, _Str7, _Msg6)
THEN
LeaderLog_Internal_RunString(_Type, _Msg6);

PROC
LeaderLog_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2, (STRING)_Str3, (STRING)_Str4, (STRING)_Str5, (STRING)_Str6, (STRING)_Str7, (STRING)_Str8)
AND
LeaderLog_QRY_LogTypeEnabled(_Type)
AND
StringConcatenate(_Str1, _Str2, _Msg1)
AND
StringConcatenate(_Msg1, _Str3, _Msg2)
AND
StringConcatenate(_Msg2, _Str4, _Msg3)
AND
StringConcatenate(_Msg3, _Str5, _Msg4)
AND
StringConcatenate(_Msg4, _Str6, _Msg5)
AND
StringConcatenate(_Msg5, _Str7, _Msg6)
AND
StringConcatenate(_Msg6, _Str8, _Msg7)
THEN
LeaderLog_Internal_RunString(_Type, _Msg7);

PROC
LeaderLog_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2, (STRING)_Str3, (STRING)_Str4, (STRING)_Str5, (STRING)_Str6, (STRING)_Str7, (STRING)_Str8, (STRING)_Str9)
AND
LeaderLog_QRY_LogTypeEnabled(_Type)
AND
StringConcatenate(_Str1, _Str2, _Msg1)
AND
StringConcatenate(_Msg1, _Str3, _Msg2)
AND
StringConcatenate(_Msg2, _Str4, _Msg3)
AND
StringConcatenate(_Msg3, _Str5, _Msg4)
AND
StringConcatenate(_Msg4, _Str6, _Msg5)
AND
StringConcatenate(_Msg5, _Str7, _Msg6)
AND
StringConcatenate(_Msg6, _Str8, _Msg7)
AND
StringConcatenate(_Msg7, _Str9, _Msg8)
THEN
LeaderLog_Internal_RunString(_Type, _Msg8);

PROC
LeaderLog_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2, (STRING)_Str3, (STRING)_Str4, (STRING)_Str5, (STRING)_Str6, (STRING)_Str7, (STRING)_Str8, (STRING)_Str9, (STRING)_Str10)
AND
LeaderLog_QRY_LogTypeEnabled(_Type)
AND
StringConcatenate(_Str1, _Str2, _Msg1)
AND
StringConcatenate(_Msg1, _Str3, _Msg2)
AND
StringConcatenate(_Msg2, _Str4, _Msg3)
AND
StringConcatenate(_Msg3, _Str5, _Msg4)
AND
StringConcatenate(_Msg4, _Str6, _Msg5)
AND
StringConcatenate(_Msg5, _Str7, _Msg6)
AND
StringConcatenate(_Msg6, _Str8, _Msg7)
AND
StringConcatenate(_Msg7, _Str9, _Msg8)
AND
StringConcatenate(_Msg8, _Str10, _Msg9)
THEN
LeaderLog_Internal_RunString(_Type, _Msg9);

PROC
LeaderLog_Internal_RunString((STRING)_Type, (STRING)_Str)
AND
_Type == "PRINT"
AND
DB_LeaderLog_Temp_NextLogTarget(_Player)
THEN
CharacterStatusText(_Player, _Str);

PROC
LeaderLog_Internal_RunString((STRING)_Type, (STRING)_Str)
AND
_Type == "STATUS"
AND
DB_LeaderLog_Temp_NextLogTarget(_Player)
THEN
CharacterStatusText(_Player, _Str);

PROC
LeaderLog_Internal_RunString((STRING)_Type, (STRING)_Str)
AND
_Type == "DEBUG"
THEN
DebugBreak(_Str);

PROC
LeaderLog_Internal_RunString((STRING)_Type, (STRING)_Str)
AND
_Type == "COMBAT"
AND
DB_LeaderLog_Temp_NextLogTarget(_Player)
THEN
SetVarFixedString(_Player, "LeaderLog_CombatText", _Str);
SetStoryEvent(_Player, "LeaderLog_Events_PlayerCombatLog");

PROC
LeaderLog_Internal_RunString((STRING)_Type, (STRING)_Str)
AND
_Type == "COMBINE"
THEN
DB_LeaderLog_Temp_CombinedString(_Str);
//END_REGION

//REGION LOG_QRY
QRY
LeaderLog_QRY_Log((STRING)_Type, (STRING)_Str1)
THEN
LeaderLog_Log(_Type, _Str1);

QRY
LeaderLog_QRY_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2)
THEN
LeaderLog_Log(_Type, _Str1, _Str2);

QRY
LeaderLog_QRY_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2, (STRING)_Str3)
THEN
LeaderLog_Log(_Type, _Str1, _Str2, _Str3);

QRY
LeaderLog_QRY_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2, (STRING)_Str3, (STRING)_Str4)
THEN
LeaderLog_Log(_Type, _Str1, _Str2, _Str3, _Str4);

QRY
LeaderLog_QRY_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2, (STRING)_Str3, (STRING)_Str4, (STRING)_Str5)
THEN
LeaderLog_Log(_Type, _Str1, _Str2, _Str3, _Str4, _Str5);

QRY
LeaderLog_QRY_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2, (STRING)_Str3, (STRING)_Str4, (STRING)_Str5, (STRING)_Str6)
THEN
LeaderLog_Log(_Type, _Str1, _Str2, _Str3, _Str4, _Str5, _Str6);

QRY
LeaderLog_QRY_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2, (STRING)_Str3, (STRING)_Str4, (STRING)_Str5, (STRING)_Str6, (STRING)_Str7)
THEN
LeaderLog_Log(_Type, _Str1, _Str2, _Str3, _Str4, _Str5, _Str6, _Str7);

QRY
LeaderLog_QRY_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2, (STRING)_Str3, (STRING)_Str4, (STRING)_Str5, (STRING)_Str6, (STRING)_Str7, (STRING)_Str8)
THEN
LeaderLog_Log(_Type, _Str1, _Str2, _Str3, _Str4, _Str5, _Str6, _Str7, _Str8);

QRY
LeaderLog_QRY_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2, (STRING)_Str3, (STRING)_Str4, (STRING)_Str5, (STRING)_Str6, (STRING)_Str7, (STRING)_Str8, (STRING)_Str9)
THEN
LeaderLog_Log(_Type, _Str1, _Str2, _Str3, _Str4, _Str5, _Str6, _Str7, _Str8, _Str9);

QRY
LeaderLog_Log((STRING)_Type, (STRING)_Str1, (STRING)_Str2, (STRING)_Str3, (STRING)_Str4, (STRING)_Str5, (STRING)_Str6, (STRING)_Str7, (STRING)_Str8, (STRING)_Str9, (STRING)_Str10)
THEN
LeaderLog_Log(_Type, _Str1, _Str2, _Str3, _Str4, _Str5, _Str6, _Str7, _Str8, _Str9, _Str10);
//END_REGION

//REGION FLAG_LOGS
PROC
LeaderLog_PrintFlag((CHARACTERGUID)_Player, (STRING)_FlagName1, (INTEGER)_FlagVal1)
AND
LeaderLog_QRY_LogTypeEnabled("PRINT")
AND
IntegertoString(_FlagVal1, _FlagVal1Str)
THEN
LeaderLog_SetTarget(_Player);
LeaderLog_Log("PRINT", "[LeaderLog:PrintFlag] ", _FlagName1, " = ", _FlagVal1Str);

PROC
LeaderLog_LogFlag((CHARACTERGUID)_Player, (STRING)_FlagName1, (INTEGER)_FlagVal1)
AND
LeaderLog_QRY_LogTypeEnabled("COMBAT")
AND
IntegertoString(_FlagVal1, _FlagVal1Str)
THEN
LeaderLog_SetTarget(_Player);
LeaderLog_Log("COMBAT", "[LeaderLog:LogFlag] ", _FlagName1, " = ", _FlagVal1Str);

PROC
LeaderLog_LogFlag((CHARACTERGUID)_Player, (STRING)_FlagName1, (INTEGER)_FlagVal1, (STRING)_FlagName2, (INTEGER)_FlagVal2)
AND
LeaderLog_QRY_LogTypeEnabled("COMBAT")
AND
IntegertoString(_FlagVal1, _FlagVal1Str)
AND
IntegertoString(_FlagVal2, _FlagVal2Str)
THEN
LeaderLog_SetTarget(_Player);
LeaderLog_Log("COMBAT", "[LeaderLog:LogFlag] ", _FlagName1, " = ", _FlagVal1Str, " | ", _FlagName2, " = ", _FlagVal2Str);
//END_REGION
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "LaughingLeader__LeaderLib"
